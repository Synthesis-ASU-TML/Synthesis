<?php// update 03/27/2004// This script has been written by Galen Scorer, www.galen.ca // If you have any ideas on improvements, please let me know. // Feel free to distribute//checks to see if you are submitting from a web site or from a Flash or Director file. If from web page it outputs some htmlif ($REQUEST_METHOD == "GET" or $Submit){echo "<html><head><title>OTUDP PHP</title></head>";}// checks to see if the variable 'ip' and 'port' already exists. If not then it sets the two values manualyif ($ip){}else{	// set the ip address or url to your address	$ip = "127.0.0.1";}if ($port){}else{	$port = 5500;}// opens a udp socket$fp = fsockopen("udp://$ip", $port);// creates a loop. Looks at each variable sent to the script using the global _REQUEST arrayforeach( $_REQUEST as $index=>$value ){    //assigns the name of the array element and the value to a new variable    $NewString = "$index $value";        // if the index is equal to Submit, LastVist, ip or port. The info is not sent    if ($index == "Submit" or $index == "LastVisit" or $index == "ip" or $index == "port"){    	    }else{    		// if the value is nothing then it does not send the info		if ($value){					if ($Submit){				echo "$NewString<BR>";			}					// counts the length of the string			$stringcount = strlen($NewString);					//calculates the number of terminators, '\0' to add to the ending of each string for proper OSC formating			$r = 4 - $stringcount % 4;					// each for loop, adds the proper number of '\0' to the end of each string			for($i = 0; $i < $r; $i++){				$NewString = "$NewString\0";			}					// sends string via udp			fwrite($fp, "$NewString");        	}         }        		// If there are no more values in $_REQUEST array the loop ends.} //Below is an example of how to add your own variables that are not posted through a form such as global variables// REMOTE_ADDR is a predifined variable for the remote computers ip address/* $address = "address $REMOTE_ADDR";if ($Submit){echo "$address<BR>";}$stringcount = strlen($address);$r = 4 - $stringcount % 4;for($i = 0; $i < $r; $i++){	$address = "$address\0";}fwrite($fp, "$address");*/// Finally the UDP socket is closedfclose($fp);//checks to see if you are submitting from a web site or from a Flash or Director file. If from web page it outputs some htmlif ($REQUEST_METHOD == "GET" or $Submit){//change the html below to customize the submision formecho "<body><form name=form1 method=post action=udp.php>  <p>Fill this form out and press submit. Values get posted back to the nested php script. </p>  <p>    <input name=myinfo type=text>  myinfo variable</p>  <p>    <input name=xpos type=text>x position variable</p>  <p>    <input name=ypos type=text id=ypos>y position variable</p><p>    <input name=ip type=text id=ip>IP address or URL to send to</p><p>    <input name=port type=text id=port>Port<br>(IP and Port are optional. These can be set in the PHP.</p>  <p>    <input type=submit name=Submit value=Submit></p></form></body></html>";}?>