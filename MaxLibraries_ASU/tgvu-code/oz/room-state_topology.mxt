max v2;#N vpatcher 328 202 793 622;#P comment 129 355 162 196617 nik@f0.am - initial version;#P comment 129 294 257 196617 You may use \, modify and/or distribute under the terms of the GNU General Public License. Please see the LICENSE file for the specific terms of the license.;#P comment 129 336 135 196617 copyright 2001 FoAM vzw.;#P newex 262 91 78 196617 room-dynamics;#N vpatcher 83 173 757 546;#P inlet 130 19 15 0;#P outlet 130 319 15 0;#P flonum 129 297 0 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P outlet 252 314 15 0;#P flonum 251 292 85 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P outlet 418 315 15 0;#P flonum 417 293 0 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P comment 248 340 50 196618 coefficients for state transitions/activation;#P comment 34 342 50 196618 current state-coefficient;#P comment 244 32 135 196618 - (optionally) setting this-state-coef. to zer0;#P comment 245 16 135 196618 - setting transition coeficient to 1;#P comment 231 0 135 196618 a discrete transition involves;#N vpatcher 202 57 600 400;#P comment 120 71 50 196618 comment;#P inlet 129 103 15 0;#P outlet 128 164 15 0;#P comment 195 124 50 196618 tests on global values from sensors \, eg: p1s3 > 0.7;#P comment 196 146 50 196618 tests on oz's internal values \, eg: time > 200;#P connect 3 0 2 0;#P pop;#P newobj 251 266 135 9 patcher transition-testing;#N vpatcher 202 57 600 400;#P comment 120 71 50 196618 comment;#P inlet 129 103 15 0;#P outlet 128 164 15 0;#P comment 195 124 50 196618 tests on global values from sensors \, eg: p1s3 > 0.7;#P comment 196 146 50 196618 tests on oz's internal values \, eg: time > 200;#P connect 3 0 2 0;#P pop;#P newobj 417 266 135 9 patcher transition-testing;#P comment 251 236 135 196618 passive -> sludge;#P comment 421 234 135 196618 passive -> alert;#P newex 190 118 135 9 send all-throttle;#P newex 190 72 34 9 t b;#P message 190 95 34 9 0;#P comment 236 68 135 196618 actions the state performs (can use coeficients);#N vpatcher 261 89 768 388;#P inlet 101 26 15 0;#P outlet 148 210 15 0;#P newex 149 133 129 9 > 0;#P newex 148 86 129 9 r condition-test-tick;#P newex 100 54 129 9 v $0-coefficient;#P newex 148 110 129 9 v $0-coefficient;#P newex 149 158 129 9 route 1;#P message 149 186 129 9 bang;#P connect 7 0 3 0;#P connect 4 0 2 0;#P connect 0 0 6 0;#P connect 2 0 5 0;#P connect 5 0 1 0;#P connect 1 0 0 0;#P pop;#P newobj 162 237 135 9 patcher transit;#P connect 20 0 18 0;#P connect 18 0 19 0;#P connect 20 0 0 0;#P connect 20 0 3 0;#P connect 3 0 2 0;#P connect 2 0 4 0;#P connect 0 0 8 0;#P connect 8 0 16 0;#P connect 16 0 17 0;#P connect 0 0 7 0;#P connect 7 0 14 0;#P connect 14 0 15 0;#P pop;#P newobj 71 52 54 9 p passive;#N vpatcher 89 227 600 400;#P inlet 129 50 15 0;#P outlet 130 151 15 0;#P flonum 129 129 0 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P comment 182 151 50 196618 current state-coefficient;#P comment 186 92 50 196618 do fadeout;#P connect 4 0 2 0;#P connect 2 0 3 0;#P pop;#P newobj 106 256 40 9 p fade;#N vpatcher 85 207 600 400;#P inlet 129 50 15 0;#P outlet 130 151 15 0;#P flonum 129 129 0 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P outlet 252 146 15 0;#P flonum 251 124 0 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P outlet 300 147 15 0;#P flonum 299 125 0 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P comment 248 172 50 196618 coefficients for state transitions/activation;#P comment 34 174 50 196618 current state-coefficient;#P comment 260 218 50 196618 comment;#P comment 244 73 50 196618 - (optionally) setting this-state-coef. to zer0;#P comment 245 57 50 196618 - setting transition coeficient to 1;#P comment 231 41 50 196618 a discrete transition involves;#P connect 12 0 10 0;#P connect 10 0 11 0;#P connect 8 0 9 0;#P connect 6 0 7 0;#P pop;#P newobj 69 173 49 9 p sludge;#N vpatcher 91 199 614 439;#P inlet 129 50 15 0;#P outlet 131 349 15 0;#P flonum 130 327 0 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P outlet 243 344 15 0;#P flonum 242 322 0 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P outlet 413 345 15 0;#P flonum 412 323 0 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P comment 249 370 50 196618 coefficients for state transitions/activation;#P comment 35 372 50 196618 current state-coefficient;#P comment 244 49 50 196618 - (optionally) setting this-state-coef. to zer0;#P comment 245 33 50 196618 - setting transition coeficient to 1;#P comment 231 17 50 196618 a discrete transition involves;#N vpatcher 202 57 600 400;#P comment 120 71 50 196618 comment;#P inlet 129 103 15 0;#P outlet 128 164 15 0;#P comment 195 124 50 196618 tests on global values from sensors \, eg: p1s3 > 0.7;#P comment 196 146 50 196618 tests on oz's internal values \, eg: time > 200;#P connect 3 0 2 0;#P pop;#P newobj 243 291 50 9 patcher transition-testing;#N vpatcher 202 57 600 400;#P comment 120 71 50 196618 comment;#P inlet 129 103 15 0;#P outlet 128 164 15 0;#P comment 195 124 50 196618 tests on global values from sensors \, eg: p1s3 > 0.7;#P comment 196 146 50 196618 tests on oz's internal values \, eg: time > 200;#P connect 3 0 2 0;#P pop;#P newobj 409 291 50 9 patcher transition-testing;#P message 182 120 50 9 0;#P comment 253 99 50 196618 actions the state performs (can use coeficients);#N vpatcher 261 89 453 292;#P inlet 101 26 15 0;#P outlet 148 210 15 0;#P newex 149 133 50 9 > 0;#P newex 148 86 50 9 r condition-test-tick;#P newex 100 54 50 9 v $0-coefficient;#P newex 148 110 50 9 v $0-coefficient;#P newex 149 158 50 9 route 1;#P message 149 186 50 9 bang;#P connect 7 0 3 0;#P connect 4 0 2 0;#P connect 0 0 6 0;#P connect 2 0 5 0;#P connect 5 0 1 0;#P connect 1 0 0 0;#P pop;#P newobj 154 262 50 9 patcher transit;#P newex 183 98 50 9 t f f b;#P newex 183 141 50 9 send bli;#P comment 411 261 50 196618 turbulence -> fade;#P comment 243 259 50 196618 turbulence -> sludge;#P connect 20 0 18 0;#P connect 18 0 19 0;#P connect 20 0 4 0;#P connect 3 0 6 0;#P connect 20 0 3 0;#P connect 6 0 2 0;#P connect 8 0 16 0;#P connect 4 0 8 0;#P connect 16 0 17 0;#P connect 4 0 7 0;#P connect 7 0 14 0;#P connect 14 0 15 0;#P pop;#P newobj 146 135 70 9 p turbulence;#N vpatcher 87 180 594 442;#P inlet 129 -44 15 0;#P outlet 130 267 15 0;#P flonum 129 245 0 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P outlet 252 262 15 0;#P flonum 251 240 0 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P comment 248 288 50 196618 coefficients for state transitions/activation;#P comment 34 290 50 196618 current state-coefficient;#P comment 114 347 50 196618 alert-ness is self modulating \, in that it changes it own state-coefficient rather than sending coefficients to make transitions into other states.;#N vpatcher 202 57 600 400;#P comment 120 71 50 196618 comment;#P inlet 129 103 15 0;#P outlet 128 164 15 0;#P comment 195 124 50 196618 tests on global values from sensors \, eg: p1s3 > 0.7;#P comment 196 146 50 196618 tests on oz's internal values \, eg: time > 200;#P connect 3 0 2 0;#P pop;#P newobj 251 215 50 9 patcher transition-testing;#P message 163 20 50 9 0;#P comment 213 -4 50 196618 actions the state performs (can use coeficients);#N vpatcher 261 89 453 292;#P inlet 101 26 15 0;#P outlet 148 210 15 0;#P newex 149 133 50 9 > 0;#P newex 148 86 50 9 r condition-test-tick;#P newex 100 54 50 9 v $0-coefficient;#P newex 148 110 50 9 v $0-coefficient;#P newex 149 158 50 9 route 1;#P message 149 186 50 9 bang;#P connect 7 0 3 0;#P connect 4 0 2 0;#P connect 0 0 6 0;#P connect 2 0 5 0;#P connect 5 0 1 0;#P connect 1 0 0 0;#P pop;#P newobj 162 186 50 9 patcher transit;#P newex 163 -3 50 9 t f;#P comment 249 195 50 196618 alert -> (more/less) alert;#P connect 13 0 11 0;#P connect 11 0 12 0;#P connect 13 0 2 0;#P connect 13 0 1 0;#P connect 1 0 4 0;#P connect 2 0 5 0;#P connect 5 0 9 0;#P connect 9 0 10 0;#P pop;#P newobj 133 91 41 9 p alert;#P flonum 37 51 28 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 7 167 28 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 99 90 28 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 112 135 28 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 72 256 28 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 259 222 28 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#N vpatcher 89 227 600 400;#P inlet 129 50 15 0;#P outlet 130 151 15 0;#P flonum 129 129 0 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P outlet 252 146 15 0;#P flonum 251 124 0 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P comment 248 172 50 196618 coefficients for state transitions/activation;#P comment 34 174 50 196618 current state-coefficient;#P comment 244 73 50 196618 - (optionally) setting this-state-coef. to zer0;#P comment 245 57 50 196618 - setting transition coeficient to 1;#P comment 231 41 50 196618 a discrete transition involves;#P connect 9 0 7 0;#P connect 7 0 8 0;#P connect 5 0 6 0;#P pop;#P newobj 293 222 62 9 p sensitive;#P flonum 259 177 28 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#N vpatcher 89 227 600 400;#P inlet 129 50 15 0;#P outlet 130 151 15 0;#P flonum 129 129 0 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P outlet 252 146 15 0;#P flonum 251 124 0 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P comment 248 172 50 196618 coefficients for state transitions/activation;#P comment 34 174 50 196618 current state-coefficient;#P comment 244 73 50 196618 - (optionally) setting this-state-coef. to zer0;#P comment 245 57 50 196618 - setting transition coeficient to 1;#P comment 231 41 50 196618 a discrete transition involves;#P connect 9 0 7 0;#P connect 7 0 8 0;#P connect 5 0 6 0;#P pop;#P newobj 293 177 71 9 p insensitive;#P newex 359 222 33 9 noop;#P newex 177 92 33 9 noop;#P comment 129 10 200 196626 room state-topology;#P connect 14 0 10 0;#P connect 16 0 11 0;#P connect 16 1 14 0;#P connect 13 1 14 0;#P connect 15 0 7 0;#P connect 12 0 9 0;#P connect 14 1 15 0;#P connect 13 2 15 0;#P connect 13 0 8 0;#P connect 16 2 12 0;#P connect 1 0 12 0;#P connect 14 2 13 0;#P connect 12 1 1 0;#P connect 3 0 4 0;#P connect 5 0 6 0;#P connect 3 1 5 0;#P connect 2 0 5 0;#P connect 5 1 2 0;#P pop;