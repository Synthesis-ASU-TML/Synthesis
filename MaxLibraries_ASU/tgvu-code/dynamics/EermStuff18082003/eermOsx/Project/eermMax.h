// eermMax.h//#include "eerm.h"//======================= Macros#define KBoundaryThreshold  0.001  // the min weight before transition.#define KNullStr "NullStr"//char *gNullStr = KNullStr;//----------------------- Atom Checksvoid AtomFloatIsValid(short ac, Atom *av, int len);void AtomPosFloatIsValid(short ac, Atom *av, int len);void AtomPosIntIsValid(short ac, Atom *av, int len);void AtomIsValid(short ac, Atom *av, short len, Atom *proto);void AtomToFloatVector(short ac, Atom *av, short len, float *f);//======================= Definitiontypedef struct eermmax{		t_object ob;	void *obex;	void *out;	void *xout;		Eerm *e;	//EermGraphics *g;	char **NodeLabel;	char **SimplexLabel;	char **TokenLabel;	int DoClock;	short packcoords;	short autopost;	short dt;} EermMax;t_class *EermMaxClass;//=======================//----------------------- SymbolsSymbol 	*PsEermSimplexSetEntry, 	*PsEermSetDt, 				// float	*PsEermSetWeights, 	*PsEermForceMeter, 	*PsSimplexNew, 	*PsSimplexDelete, 		// ??	*PsSimplexSetTp, 	*PsNodeNew, 	*PsNodeSetMean, 	*PsNodeSetVar, 	*PsNodeSetLabel,		*PsTokenFeatureUpdate,  // this symbol not needed.	*PsStulleTokenNew, 	*PsTokenNew, 	*PsTokenDelete, 	*PsTokenSetCoord, 	*PsTokenSetMass, 	*PsTokenSetDamping, 	*PsTokenSetExpScale, 	*PsTokenSetTokenCoupling,		*PsClockEvolution; 		//----------------------- Atoms//======================= Max Methods// Parses the msg to produce eerm with desired attributes.void *EermMaxNew(Symbol *s, short ac, Atom *av);void EermMaxFree(EermMax *m);void EermMaxTick(EermMax *m);void EermMaxLabelsNew(EermMax *m);void EermMaxLabelsFree(EermMax *m);t_jit_err EermMaxJitGLInit(void);//======================= Messages//void EermMaxFoo(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxBang(EermMax *m);void EermMaxInt(EermMax *m, int i);void EermMaxSimplexSetEntry(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxSetDt(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxSetForce(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxSetSlew(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxSetWeights(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxTokenSetWeights(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxForceMeter(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxPostSimplices(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxPostTokens(EermMax *m, Symbol *msg, short ac, Atom *av);void TraceSimplices(EermMax *m);void TraceLabels(EermMax *m);void EermMaxSimplexNew(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxSimplexDelete(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxSimplexSetTp(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxNodeNew(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxNodeSetLabelMsg(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxNodeSetMean(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxNodeSetVar(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxNodeSetPotential(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxStulleTokenNew(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxTokenNew(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxTokenDelete(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxTokenSetSimplex(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxTokenSetCoord(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxTokenSetMass(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxTokenSetDamping(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxTokenSetExpScale(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxTokenSetTokenCoupling(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxClockEvolution(EermMax *m, int DoClock);void EermMaxClockOnce(EermMax *m, Symbol *msg, short ac, Atom *av);void EermMaxEvolve(EermMax *m);void EermMaxOutputTokens(EermMax *m);void EermMaxOutputToken(EermMax *m, int i);void EermMaxTokenFeatureUpdate(EermMax *m, Symbol *msg, short ac, Atom *av);//======================= Stringsvoid StringArraySetLabel(char **a, int asize, int i, char *s);char *StringArrayLabel(char **a, int asize, int i);int StringArrayIndex(char **a, int asize, char *s);void EermMaxTokenSetLabel(EermMax *m, int i, char *s);char *EermMaxTokenLabel(EermMax *m, int i);int EermMaxTokenIndex(EermMax *m, char *s);void EermMaxNodeSetLabel(EermMax *m, int i, char *s);char *EermMaxNodeLabel(EermMax *m, int i);int EermMaxNodeIndex(EermMax *m, char *s);void EermMaxSimplexSetLabel(EermMax *m, int i, char *s);char *EermMaxSimplexLabel(EermMax *m, int i);int EermMaxSimplexIndex(EermMax *m, char *s);int EermMaxNodeAtomToIndex(EermMax *m, int ac, Atom *av);int EermMaxSimplexAtomToIndex(EermMax *m, int ac, Atom *av);//??:int EermMaxSimplexNodeIndexListToIndex(EermMax *m, int *NodeIndex);