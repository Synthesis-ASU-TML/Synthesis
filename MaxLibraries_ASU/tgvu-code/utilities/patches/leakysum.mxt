max v2;#N vpatcher 355 118 961 493;#P origin 0 -1;#P comment 153 312 177 196617 maybe should interpolate between polling bangs to smooth the output?;#P newex 150 274 41 196617 float 0.;#P flonum 197 247 70 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 222 198 27 196617 + 0.;#P newex 214 223 69 196617 maximum 0.;#P comment 295 225 106 196617 floor should be 0!;#P message 335 93 36 196617 $2;#P message 64 104 14 196617 0;#P message 244 90 44 196617 $1;#P newex 34 60 71 196617 sel bang reset;#N comlet bang for sum / int accumulates / reset;#P inlet 34 38 15 0;#N comlet float accumulated value with leak;#P outlet 115 315 23 0;#P newex 174 120 62 196617 metro 2000;#P newex 174 147 52 196617 float -1.;#P newex 321 119 38 196617 * -1.;#N comlet int leak decrement;#P inlet 321 38 15 0;#N comlet int leak rate (msec);#P inlet 226 38 15 0;#P comment 56 24 100 196617 bang emit accumulant \, int added next tic;#P comment 394 28 104 196626 leakysum;#P comment 181 23 100 196617 int leak rate (msec);#P comment 292 24 87 196617 int leak decrement;#P newex 174 56 45 196617 loadbang;#P comment 394 61 100 196617 accumulates ints or floats as they enter \, but decrements at a constant rate/time;#P comment 394 114 106 196617 sha xin wei ¥ 9.11.02 (thanks joel ryan);#P comment 197 277 100 196617 polled by bang;#P connect 14 0 15 0;#P connect 15 1 17 0;#P connect 23 0 13 0;#P fasten 15 0 23 0 39 246 155 246;#P connect 3 0 12 0;#P connect 12 0 11 0;#P connect 22 0 23 1;#P fasten 17 0 23 1 69 225 186 225;#P fasten 17 0 22 0 69 225 202 225;#P connect 20 0 22 0;#P connect 21 0 20 0;#P connect 10 0 11 1;#P connect 11 0 21 0;#P fasten 15 2 21 0 99 193 227 193;#P connect 8 0 12 1;#P connect 16 0 12 1;#P fasten 22 0 21 1 202 268 287 268 287 192 244 192;#P fasten 3 0 16 0 179 82 249 82;#P connect 9 0 10 0;#P connect 18 0 10 0;#P fasten 3 0 18 0 179 82 340 82;#P pop;