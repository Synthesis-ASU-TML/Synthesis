max v2;#N vpatcher 878 85 1524 787;#P origin 35 87;#P window setfont "Sans Serif" 24.;#P window linecount 1;#P comment 68 36 358 196632 smoke blending control panel;#P window setfont "Sans Serif" 18.;#P comment 324 609 112 196626 final output;#P user jit.pwindow 322 482 162 122 0 1 0 0 1 0;#P comment 427 397 155 196626 adjust to taste;#P window setfont "Sans Serif" 9.;#P newex 358 415 61 196617 pak 0. 0. 0.;#P comment 531 378 55 196617 saturation;#P comment 468 378 55 196617 constrast;#P user jit.pwindow 441 282 82 62 0 1 0 0 1 0;#P newex 442 256 71 196617 r smokeAlpha;#P flonum 530 353 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 394 353 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 466 353 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P window setfont "Sans Serif" 18.;#P comment 355 101 103 196626 top layer;#P comment 355 128 169 196626 live video / black;#P toggle 356 162 51 0;#P comment 204 125 133 196626 hidden video;#P comment 73 125 122 196626 camera input;#P toggle 205 159 51 0;#P window setfont "Sans Serif" 9.;#P newex 205 214 51 196617 metro 33;#P user jit.pwindow 228 281 82 62 0 1 0 0 1 0;#P message 326 234 32 196617 start;#P message 297 234 27 196617 stop;#P message 219 234 72 196617 read fire.mov;#P newex 205 255 104 196617 jit.qt.movie 320 240;#P message 154 234 46 196617 settings;#P user jit.pwindow 88 282 82 62 0 1 0 0 1 0;#P toggle 73 160 51 0;#P newex 73 215 51 196617 metro 33;#P newex 73 256 98 196617 jit.qt.grab 640 480;#P message 120 234 32 196617 close;#P message 88 234 29 196617 open;#N vpatcher 143 44 1006 938;#P origin -6 0;#P window setfont "Sans Serif" 9.;#P newex 551 226 129 196617 jit.matrix 4 char 640 480;#P outlet 540 472 15 0;#P inlet 685 39 15 0;#P newex 246 210 76 196617 unpack 0. 0. 0.;#P inlet 665 40 15 0;#P message 250 74 14 196617 1;#P newex 250 51 45 196617 loadbang;#P inlet 640 40 15 0;#P inlet 16 62 15 0;#P newex 370 420 71 196617 s smokeAlpha;#P newex 515 318 71 196617 r smokeAlpha;#P newex 686 74 67 196617 color_remap;#P user jit.pwindow 698 444 82 62 0 1 0 0 1 0;#P message 444 472 70 196617 size 640 480;#P message 402 76 33 196617 clear;#P user jit.pwindow 347 162 82 62 0 1 0 0 1 0;#P toggle 328 58 15 0;#P newex 328 80 51 196617 metro 30;#P message 402 105 32 196617 start;#P message 373 105 27 196617 stop;#P message 342 105 29 196617 read;#P newex 328 129 104 196617 jit.qt.movie 320 240;#P comment 436 217 52 196617 0.25 - 0.5;#P newex 549 203 49 196617 r liveVid;#P newex 392 325 112 196617 jit.op @op !- @val 255;#P message 705 277 33 196617 clear;#P newex 322 386 66 196617 jit.op @op !-;#P user jit.pwindow 258 414 82 62 0 1 0 0 1 0;#P newex 392 384 66 196617 jit.unpack;#P flonum 321 320 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 320 234 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 320 280 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P message 321 339 69 196617 saturation \$1;#P message 318 258 70 196617 brightness \$1;#P message 320 299 61 196617 contrast \$1;#P newex 392 361 53 196617 jit.brcosa;#P newex 559 284 66 196617 jit.unpack;#P flonum 497 217 35 9 0. 1. 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P message 497 236 48 196617 xfade \$1;#P newex 559 256 49 196617 jit.xfade;#P newex 392 296 176 196617 jit.matrix 4 char 640 480 @interp 1;#P user jit.pwindow 680 204 82 62 0 1 0 0 1 0;#P newex 449 438 99 196617 jit.window 320 240;#P number 509 349 35 9 0 1 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P message 509 367 49 196617 mode \$1;#P newex 392 274 59 196617 r smokeVid;#P newex 55 131 49 196617 s liveVid;#P message 599 454 68 196617 fullscreen \$1;#P toggle 582 454 15 0;#P newex 624 430 35 196617 sel 27;#P newex 582 430 40 196617 key;#P newex 562 393 69 196617 jit.alphablend;#P newex 562 366 53 196617 jit.pack;#P newex 219 741 59 196617 s smokeVid;#P newex 0 401 123 196617 jit.matrix 1 char 128 96;#P number 176 227 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P number 133 228 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 108 247 85 196617 pak dim 320 240;#P user jit.fpsgui 366 823 60 196617 0;#P user jit.pwindow 365 698 162 122 0 1 0 0 1 0;#P comment 46 467 72 196617 vecfield_horiz;#P comment 152 492 72 196617 vecfield_vert;#P newex 131 433 68 196617 cv.jit.HSflow;#P newex 128 464 61 196617 jit.unpack 2;#P newex 364 472 45 196617 loadbang;#P newex 44 531 27 196617 t b l;#P flonum 316 569 35 9 0. 200. 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P message 316 589 64 196617 veldecay \$1;#P message 316 542 14 196617 1;#P flonum 383 568 35 9 0. 200. 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P message 383 588 70 196617 densdecay \$1;#P window linecount 2;#P message 383 541 23 196617 0.95;#P window linecount 1;#P message 88 767 32 196617 clear;#P newex 151 793 108 196617 jit.matrix fluidmatrix;#P newex 151 764 53 196617 jit.pack 4;#P newex 151 703 66 196617 jit.unpack 4;#P newex 151 628 190 196617 jit.matrix fluidmatrix 4 float32 128 96;#P flonum 646 566 35 9 0. 1000. 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P message 646 587 48 196617 force \$1;#P flonum 605 567 35 9 0. 200. 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P message 605 588 33 196617 dt \$1;#P window linecount 2;#P message 605 540 23 196617 0.24;#P flonum 549 566 35 9 0. 200. 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P window linecount 1;#P message 549 588 54 196617 source \$1;#P message 549 539 17 196617 1.;#P flonum 502 567 35 9 0. 200. 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P message 502 588 43 196617 visc \$1;#P message 502 540 36 196617 0.;#P flonum 456 567 35 9 0. 200. 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P message 456 588 40 196617 diff \$1;#P message 456 540 17 196617 0.;#P message 646 539 36 196617 5.;#P window setfont "Sans Serif" 10.;#P comment 209 515 123 196618 INPUT PARAMETERS;#P window setfont "Sans Serif" 9.;#P comment 209 532 99 196617 diff = diffusion;#P comment 209 569 100 196617 dt = time step;#P comment 209 546 100 196617 visc = viscosity;#P window linecount 2;#P comment 209 593 78 196617 N = grid size (hard coded);#P window linecount 1;#P comment 209 581 98 196617 force = user input;#P comment 209 557 100 196617 source =;#P user panel 207 511 491 110;#X brgb 191 191 191;#X frgb 0 0 0;#X border 1;#X rounded 0;#X shadow 0;#X done;#P newex 151 679 81 196617 navierstokes.ys;#P window linecount 3;#P comment 87 786 46 196617 clear Density Window;#P window linecount 1;#P newex 0 313 65 196617 jit.rgb2luma;#P newex 0 424 27 196617 t l l;#P newex 0 448 90 196617 jit.op @op absdiff;#P newex 0 482 136 196617 jit.matrix 1 float32 128 96;#P comment 264 281 52 196617 1 to 5;#P connect 98 0 4 0;#P connect 4 0 52 0;#P connect 52 0 3 0;#P connect 3 1 2 0;#P connect 2 0 1 0;#P connect 1 0 41 0;#P connect 98 0 60 0;#P connect 3 0 2 1;#P connect 44 0 43 0;#P connect 2 0 44 0;#P connect 50 0 49 1;#P connect 41 0 30 0;#P fasten 36 0 6 0 388 731 156 731;#P fasten 17 0 6 0 461 731 156 731;#P fasten 28 0 6 0 651 731 156 731;#P fasten 26 0 6 0 610 731 156 731;#P fasten 23 0 6 0 554 731 156 731;#P fasten 39 0 6 0 321 732 156 732;#P connect 30 0 6 0;#P connect 6 0 31 0;#P connect 31 0 32 0;#P fasten 34 0 33 0 93 862 156 862;#P connect 32 0 33 0;#P connect 41 1 32 1;#P connect 43 1 32 2;#P connect 51 0 49 2;#P connect 43 0 32 3;#P connect 31 0 53 0;#P fasten 104 0 103 0 690 61 320 50 271 127;#P connect 100 0 101 0;#P connect 78 1 79 0;#P connect 42 0 38 0;#P connect 38 0 40 0;#P connect 40 0 39 0;#P connect 76 0 73 0;#P connect 103 0 76 0;#P connect 103 1 75 0;#P connect 75 0 72 0;#P fasten 103 2 77 0 262 284;#P connect 77 0 74 0;#P connect 101 0 90 0;#P connect 90 0 89 0;#P connect 92 0 85 0;#P connect 89 0 85 0;#P fasten 88 0 85 0 407 199 333 199;#P fasten 87 0 85 0 378 199 333 199;#P fasten 86 0 85 0 347 199 333 199;#P connect 85 0 91 0;#P connect 31 0 47 0;#P connect 47 0 48 0;#P connect 78 1 97 0;#P connect 42 0 35 0;#P connect 35 0 37 0;#P connect 37 0 36 0;#P connect 61 0 66 0;#P connect 66 0 82 0;#P fasten 74 0 71 0 326 433 397 433;#P fasten 72 0 71 0 325 431 397 431;#P fasten 73 0 71 0 323 434 397 434;#P connect 82 0 71 0;#P connect 71 0 78 0;#P fasten 55 0 64 0 567 496 454 496;#P connect 93 0 64 0;#P fasten 59 0 64 0 604 554 561 554 561 506 454 506;#P connect 42 0 16 0;#P connect 16 0 18 0;#P connect 18 0 17 0;#P fasten 102 0 69 0 670 93 502 93;#P connect 69 0 68 0;#P connect 42 0 19 0;#P connect 19 0 21 0;#P connect 21 0 20 0;#P connect 63 0 62 0;#P connect 55 0 105 0;#P connect 42 0 22 0;#P connect 22 0 24 0;#P connect 24 0 23 0;#P connect 83 0 106 0;#P fasten 68 0 67 0 502 330 564 330;#P connect 106 0 67 0;#P connect 67 0 70 0;#P fasten 96 0 54 0 520 418 567 418;#P connect 54 0 55 0;#P fasten 62 0 55 0 514 463 567 463;#P connect 70 1 54 1;#P fasten 57 0 58 0 629 526 587 526;#P connect 70 2 54 2;#P fasten 85 0 67 1 333 151 603 151;#P fasten 58 0 59 0 598 544 598 529;#P connect 70 3 54 3;#P connect 42 0 25 0;#P connect 25 0 27 0;#P connect 27 0 26 0;#P connect 99 0 55 1;#P fasten 56 0 57 0 623 522 623 507;#P connect 42 0 15 0;#P connect 15 0 29 0;#P connect 29 0 28 0;#P connect 67 0 65 0;#P pop;#P newobj 323 440 37 196617 p guts;#P window setfont "Sans Serif" 18.;#P comment 77 367 243 196626 press [ESC] for fullscreen;#P window setfont "Sans Serif" 9.;#P comment 393 378 55 196617 brightness;#P window linecount 4;#P comment 88 593 120 196617 patch assembled by Erik Conrad \, 02-2006 \, using navierstokes.ys object by Yoichiro Serita \, TML;#P connect 8 0 7 0;#P fasten 10 0 6 0 159 254 78 254;#P fasten 5 0 6 0 125 254 78 254;#P fasten 4 0 6 0 93 254 78 254;#P connect 7 0 6 0;#P fasten 6 0 9 0 78 278 94 278;#P connect 17 0 16 0;#P fasten 14 0 11 0 331 251 210 251;#P fasten 13 0 11 0 302 251 210 251;#P fasten 12 0 11 0 224 251 210 251;#P connect 16 0 11 0;#P fasten 11 0 15 0 210 276 234 276;#P fasten 6 0 3 0 78 355 328 355;#P connect 3 0 32 0;#P fasten 11 0 3 1 210 355 337 355;#P fasten 20 0 3 2 361 355 346 355;#P fasten 30 0 3 3 363 435 355 435;#P fasten 24 0 30 0 399 372 363 372;#P fasten 23 0 30 1 471 372 363 372 363 411 388 411;#P fasten 25 0 30 2 535 372 363 372 363 411 413 411;#P connect 26 0 27 0;#P pop;