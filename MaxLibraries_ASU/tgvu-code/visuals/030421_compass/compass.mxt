max v2;#N vpatcher 52 69 882 720;#P comment 550 27 104 196626 compass;#P comment 655 27 143 196617 Yoichiro Serita © 2003 Topological Media Lab;#N vpatcher 40 55 721 555;#P newex 417 87 45 196617 loadbang;#P message 480 170 17 196617 1.;#P message 516 290 35 196617 set \$1;#P newex 471 262 95 196617 if $f1 > 0. then $f1;#P button 544 148 15 0;#P flonum 543 173 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 472 232 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 472 203 60 196617 minimum 1.;#P message 320 155 23 196617 0.;#P message 356 275 35 196617 set \$1;#P newex 311 247 101 196617 if $f1 < 1. then $f1;#P button 384 133 15 0;#P flonum 383 158 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 312 217 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 312 188 69 196617 maximum 0.;#P message 64 96 31 196617 clear;#P newex 64 70 55 196617 route bang;#P inlet 193 44 15 0;#P number 193 96 49 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P outlet 74 404 15 0;#P inlet 64 44 15 0;#P newex 74 311 29 196617 != 0.;#P newex 74 334 45 196617 gate;#P flonum 74 380 70 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 74 356 175 196617 expr ($f1-$f3)*2.0/($f2-$f3) - 1.;#P flonum 238 285 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 156 285 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 109 96 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 221 161 27 196617 Lbot;#P newex 133 131 70 196617 Lshiftreg 255;#P newex 133 160 33 196617 Lpeak;#P connect 10 0 14 0;#P connect 14 0 15 0;#P fasten 4 0 9 0 161 304 79 304;#P connect 9 0 8 0;#P connect 8 0 6 0;#P connect 6 0 7 0;#P connect 7 0 11 0;#P fasten 5 0 9 1 243 308 98 308;#P connect 14 1 3 0;#P connect 3 0 8 1;#P fasten 3 0 1 0 114 119 138 119;#P fasten 15 0 1 0 69 125 138 125;#P connect 1 0 0 0;#P connect 20 0 4 0;#P connect 4 0 6 1;#P connect 13 0 12 0;#P connect 12 0 1 1;#P fasten 1 0 2 0 138 152 226 152;#P connect 27 0 5 0;#P connect 5 0 6 2;#P connect 17 0 20 0;#P connect 3 0 16 0;#P connect 16 0 17 0;#P connect 30 0 22 0;#P connect 14 0 22 0;#P connect 20 0 21 0;#P connect 18 0 16 1;#P connect 22 0 18 0;#P fasten 21 0 18 0 397 319 413 278 429 204;#P connect 19 0 18 0;#P connect 3 0 19 0;#P connect 24 0 27 0;#P connect 3 0 23 0;#P connect 23 0 24 0;#P connect 30 0 29 0;#P connect 14 0 29 0;#P connect 27 0 28 0;#P connect 25 0 23 1;#P connect 26 0 25 0;#P fasten 28 0 25 0 557 334 573 293 589 219;#P connect 29 0 25 0;#P connect 3 0 26 0;#P pop;#P newobj 256 179 71 196617 p scaled;#B color 5;#P comment 405 63 79 196617 (default: 255);#P comment 391 47 67 196617 scale sample;#P inlet 372 46 15 0;#P number 372 132 35 9 1 255 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P comment 11 289 110 196617 scaled val (-1.0 - 1.0);#P comment 97 46 129 196617 calib -> calibration;#P comment 671 66 90 133693452 Yoichiro Serita 04.21.2003;#P outlet 527 581 15 0;#P newex 111 117 154 196617 unpack 0. 0.;#P message 588 277 17 196617 0.;#P newex 39 68 83 196617 route reset calib;#P comment 568 488 88 196617 calibrated theta;#P flonum 299 533 35 9 0 0 0 3 0 0 0 255 227 23 222 222 222 0 0 0;#P inlet 39 46 15 0;#P outlet 33 266 15 0;#P outlet 299 581 15 0;#N vpatcher 40 55 721 555;#P newex 417 87 45 196617 loadbang;#P message 480 170 17 196617 1.;#P message 516 290 35 196617 set \$1;#P newex 471 262 95 196617 if $f1 > 0. then $f1;#P button 544 148 15 0;#P flonum 543 173 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 472 232 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 472 203 60 196617 minimum 1.;#P message 320 155 23 196617 0.;#P message 356 275 35 196617 set \$1;#P newex 311 247 101 196617 if $f1 < 1. then $f1;#P button 384 133 15 0;#P flonum 383 158 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 312 217 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 312 188 69 196617 maximum 0.;#P message 64 96 31 196617 clear;#P newex 64 70 55 196617 route bang;#P inlet 193 44 15 0;#P number 193 96 49 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P outlet 74 404 15 0;#P inlet 64 44 15 0;#P newex 74 311 29 196617 != 0.;#P newex 74 334 45 196617 gate;#P flonum 74 380 70 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 74 356 175 196617 expr ($f1-$f3)*2.0/($f2-$f3) - 1.;#P flonum 238 285 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 156 285 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 109 96 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 221 161 27 196617 Lbot;#P newex 133 131 70 196617 Lshiftreg 255;#P newex 133 160 33 196617 Lpeak;#P connect 10 0 14 0;#P connect 14 0 15 0;#P fasten 4 0 9 0 161 304 79 304;#P connect 9 0 8 0;#P connect 8 0 6 0;#P connect 6 0 7 0;#P connect 7 0 11 0;#P fasten 5 0 9 1 243 308 98 308;#P connect 14 1 3 0;#P connect 3 0 8 1;#P fasten 3 0 1 0 114 119 138 119;#P fasten 15 0 1 0 69 125 138 125;#P connect 1 0 0 0;#P connect 20 0 4 0;#P connect 4 0 6 1;#P connect 13 0 12 0;#P connect 12 0 1 1;#P fasten 1 0 2 0 138 152 226 152;#P connect 27 0 5 0;#P connect 5 0 6 2;#P connect 17 0 20 0;#P connect 3 0 16 0;#P connect 16 0 17 0;#P connect 30 0 22 0;#P connect 14 0 22 0;#P connect 20 0 21 0;#P connect 18 0 16 1;#P connect 19 0 18 0;#P fasten 21 0 18 0 397 319 413 278 429 204;#P connect 22 0 18 0;#P connect 3 0 19 0;#P connect 24 0 27 0;#P connect 3 0 23 0;#P connect 23 0 24 0;#P connect 14 0 29 0;#P connect 30 0 29 0;#P connect 27 0 28 0;#P connect 25 0 23 1;#P connect 29 0 25 0;#P fasten 28 0 25 0 557 334 573 293 589 219;#P connect 26 0 25 0;#P connect 3 0 26 0;#P pop;#P newobj 111 177 71 196617 p scaled;#B color 5;#P newex 597 457 164 196617 if $f1 < -3.1416 then $f2 else $f1;#P newex 527 426 182 196617 if $f1 > 3.1416 then $f2 else out2 $f1;#P flonum 527 486 35 9 0 0 0 3 0 0 0 255 227 23 222 222 222 0 0 0;#P newex 699 403 43 196617 - 6.283;#P newex 751 403 44 196617 + 6.283;#P flonum 548 329 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P button 613 277 30 9;#P message 548 301 35 196617 set \$1;#P flonum 527 377 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 527 353 31 196617 - 0.;#P flonum 527 277 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 299 510 32 196617 * -1.;#P comment 338 534 35 196617 theta;#P newex 255 250 27 196617 t f f;#P newex 111 250 27 196617 t f f;#P newex 329 435 49 196617 - 3.1416;#P newex 314 464 50 196617 + 3.1416;#P flonum 299 490 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 299 410 40 196617 gate 3;#P newex 159 346 121 196617 if $f1 >= 0. then 2 else 3;#P number 128 376 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 128 317 154 196617 if $f1 >= 0. then 1 else out2 $f2;#P flonum 329 346 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 329 285 153 196617 if $f1 == 0. then 0.001 else $f1;#P newex 329 320 95 196617 expr atan($f2/$f1);#P flonum 255 206 70 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 33 235 52 196617 pack 0. 0.;#P flonum 111 206 70 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 255 145 35 12 0 0 0 2040 0 0 0 74 156 97 222 222 222 0 0 0;#P flonum 111 145 35 12 0 0 0 2040 0 0 0 74 156 97 222 222 222 0 0 0;#P comment 19 28 64 196617 xmag ymag;#P comment 97 32 129 196617 reset -> reset calibration;#P fasten 4 0 5 0 116 225 38 225;#P connect 5 0 34 0;#P connect 35 0 38 0;#P fasten 6 0 5 1 260 229 80 229;#P connect 38 2 40 0;#P connect 40 0 2 0;#P fasten 38 0 32 0 44 168 116 168;#P connect 2 0 32 0;#P connect 32 0 4 0;#P connect 4 0 17 0;#P connect 17 1 10 0;#P fasten 12 0 11 0 164 369 133 369;#P connect 10 0 11 0;#P fasten 10 1 12 0 277 340 164 340;#P fasten 45 0 32 1 377 166 177 166;#P connect 40 1 3 0;#P connect 49 0 6 0;#P connect 6 0 18 0;#P connect 38 0 49 0;#P connect 3 0 49 0;#P connect 18 1 10 1;#P fasten 11 0 13 0 133 401 304 401;#P fasten 16 0 14 0 334 459 304 459;#P connect 13 0 14 0;#P fasten 15 0 14 0 319 484 304 484;#P connect 14 0 20 0;#P connect 20 0 36 0;#P connect 36 0 33 0;#P connect 13 1 15 0;#P connect 45 0 49 1;#P fasten 17 0 8 0 116 279 334 279;#P connect 8 0 7 0;#P connect 7 0 9 0;#P connect 9 0 13 1;#P connect 13 2 16 0;#P connect 46 0 45 0;#P fasten 18 0 7 1 260 308 419 308;#P fasten 36 0 21 0 304 560 492 560 492 264 532 264;#P connect 21 0 22 0;#P connect 22 0 23 0;#P connect 23 0 30 0;#P connect 30 0 29 0;#P fasten 31 0 29 0 602 479 532 479;#P connect 29 0 41 0;#P fasten 21 0 24 0 532 298 553 298;#P connect 24 0 26 0;#P fasten 25 0 26 0 618 322 553 322;#P fasten 39 0 26 0 593 322 553 322;#P connect 26 0 22 1;#P fasten 38 0 39 0 44 97 593 97;#P fasten 30 1 31 0 704 450 602 450;#P fasten 38 1 25 0 80 93 618 93;#P fasten 23 0 28 0 532 395 704 395;#P connect 28 0 30 1;#P fasten 23 0 27 0 532 395 756 395;#P connect 27 0 31 1;#P pop;