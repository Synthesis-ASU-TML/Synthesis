max v2;#N vpatcher 329 126 844 728;#P origin -30 0;#P toggle 213 344 15 0;#P window setfont "Sans Serif" 9.;#P newex 225 343 27 196617 gate;#B color 6;#P flonum 52 396 65 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P user jit.cellblock 207 258 562 313 3 9 5 10 45 17 0 1 1 0 1 1 1 1 1 0 0 0 255 255 255 0 0 0 0 0 0 191 191 191 0 0 0 215 215 240 1 1 1 0 4 0 0 0;#P toggle 89 175 15 0;#P newex 105 174 27 196617 gate;#P comment 173 545 52 196617 variation from average;#P comment 99 544 52 196617 average;#P hidden newex 278 518 93 196617 bgcolor 100 50 50;#P newex 400 101 40 196617 t 1 b b;#P flonum 276 123 53 9 0 0 0 3 0 0 0 255 227 23 222 222 222 0 0 0;#P newex 400 79 45 196617 loadbang;#P flonum 209 123 65 9 0 0 0 3 0 0 0 255 227 23 222 222 222 0 0 0;#P newex 52 353 113 196617 expr ($f1 - $f3) * $f2;#P newex 209 79 63 196617 unpack 0. 0.;#B color 5;#N vpreset 1;#X append 1 2 7 87 169 number int 0 \; 11 362 213 multiSlider list 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;#X append 1 2 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;#X append 1 2 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;#X append 1 2 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;#X append 1 2 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;#X append 1 2 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;#X append 1 2 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \; 17 466 74 number int 0 \; 18 419 149 number int 100 \;;#X append 1 2 35 123 209 flonum float 0.001 \; 37 123 276 flonum float 0. \; 43 175 89 toggle int 1 \; 45 396 52 flonum float 0. \;;#P preset 400 123 47 27;#P comment 400 37 143 196617 modified by SXW from motionsound Yoichiro Serita © 2003 Topological Media Lab;#N comlet i averging window (samples);#P inlet 264 41 29 0;#N comlet l (f f) scale offset: x -> scale * (x-offset);#P inlet 209 41 29 0;#N comlet i threshhold;#P inlet 119 41 29 0;#N comlet i difference in intensity;#P outlet 179 506 35 0;#P newex 185 485 27 196617 - 0;#N comlet i instantaneous intensity;#P outlet 52 505 35 0;#N comlet i moving average intensity;#P outlet 107 506 35 0;#P inlet 74 41 29 0;#P newex 74 199 40 196617 t b l b;#P newex 165 256 27 196617 + 1;#B color 6;#P message 146 300 53 196617 set \$2 \$1;#B color 6;#P newex 146 278 29 196617 pack;#B color 6;#P number 149 419 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P number 74 466 50 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 74 441 85 196617 mavg 100;#P newex 89 288 48 196617 gate;#P newex 89 266 27 196617 != 0;#P message 45 229 32 196617 set 0;#P newex 74 322 40 196617 accum;#P user multiSlider 213 362 317 33 0. 255. 253 2921 47;#M frgb 50 150 50;#M brgb 150 250 150;#M rgb2 127 127 127;#P newex 89 229 40 196617 jit.iter;#P user jit.pwindow 140 167 370 29 0 1 0 0 1 0;#P newex 74 143 320 196617 jit.histogram 1 long 256 @autoclear 1 @normalize 1 @normval 1000;#B color 5;#P number 169 87 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 74 110 105 196617 jit.op @op >p @val 10;#P window setfont "Sans Serif" 14.;#P comment 67 18 134 196622 ys.motion_meter;#P window setfont "Sans Serif" 9.;#P comment 298 38 100 196617 measures total optical color change in video;#P comment 298 77 100 196617 uses jit.histogram \, jit.op \, jit.rgb2luma;#P comment 199 205 103 196617 rescale accum by scale * (accum - offset);#B color 5;#P comment 27 544 78 196617 instantaneous;#P comment 4 39 69 196617 assume 1 plane monochrome if not \, use jit.rgb2luma;#P connect 22 2 13 0;#P connect 12 0 34 0;#P connect 34 0 45 0;#P connect 45 0 25 0;#P connect 23 0 6 0;#P connect 6 0 8 0;#P connect 8 0 22 0;#P connect 13 0 12 0;#P connect 22 0 12 0;#P connect 45 0 16 0;#P connect 16 0 17 0;#P connect 22 1 10 0;#P connect 10 1 14 0;#P connect 14 0 15 0;#P connect 15 0 12 1;#P fasten 35 0 34 1 214 344 108 344;#P lcolor 6;#P hidden connect 43 0 42 0;#P connect 17 0 24 0;#P fasten 8 0 42 1 79 167 127 167;#P connect 10 0 15 1;#P hidden connect 42 0 9 0;#P connect 10 0 19 0;#P lcolor 7;#P connect 19 0 20 0;#P fasten 30 0 18 0 269 372 154 372;#P lcolor 1;#P connect 18 0 16 1;#P fasten 37 0 34 2 281 345 159 345;#P lcolor 6;#P connect 10 1 21 0;#P lcolor 7;#P connect 21 0 19 1;#P connect 28 0 7 0;#P connect 7 0 6 1;#P connect 26 0 27 0;#P fasten 34 0 26 0 57 376 190 376;#P fasten 16 0 26 1 82 461 207 461;#P connect 29 0 33 0;#P lcolor 6;#P connect 33 0 35 0;#P lcolor 6;#P connect 46 0 11 0;#P hidden connect 47 0 46 0;#P fasten 20 0 46 1 151 325 247 325;#P lcolor 7;#P connect 33 1 37 0;#P lcolor 6;#P connect 36 0 38 0;#P connect 38 0 32 0;#P pop;